(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{3268:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/create/subcategory",function(){return r(1286)}])},1286:function(e,a,r){"use strict";r.r(a);var t=r(5893),s=r(7294),n=r(8767),c=r(2577),i=r(616),o=r(6557),l=r(8433);let u=()=>{let[e,a]=(0,s.useState)({}),[r,u]=(0,s.useState)(null),[d,g]=(0,s.useState)("Crear sub-categor\xeda"),[m,p]=(0,s.useState)(null),[h,_]=(0,s.useState)({status:"idle"}),{data:x,status:f}=(0,n.useQuery)("categories",async()=>{let e=await fetch("".concat(c.Z.API_URL,"/category"));return e.json()}),j=r=>{a({...e,[r.target.name]:r.target.value})},b=r=>{r.preventDefault(),_({status:"loading"});let t=new FormData;t.append("name",e.name),t.append("category",e.category),t.append("description",e.description),t.append("images",e.image),l.Z.post("".concat(c.Z.API_URL,"/subcategories"),t,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{_({status:"success",message:"Subcategor\xeda creada!"}),a({}),u(null)}).catch(e=>{console.log(e),_({status:"error",message:"Ha ocurrido un error al crear la categor\xeda"})})};return"loading"===h.status||"loading"===f?(0,t.jsx)(i.Z,{}):"error"===f?(0,t.jsx)(o.Z,{}):(0,t.jsx)("main",{children:(0,t.jsxs)("form",{action:"",className:"form_container first_design",children:[(0,t.jsx)("div",{className:"form-group required",children:(0,t.jsx)("input",{onChange:e=>j(e),type:"text",name:"name",defaultValue:m&&m.name,placeholder:"Nombre de la sub-categor\xeda"})}),(0,t.jsx)("div",{className:"form-group required",children:(0,t.jsxs)("select",{onChange:e=>j(e),name:"category",placeholder:"Seleccione categor\xeda a la que pertenece",defaultValue:m&&m.category,children:[m&&m.category?(0,t.jsx)("option",{value:m.category._id,children:m.category.name}):(0,t.jsx)("option",{value:void 0,children:"Selecciona una categor\xeda"}),x.map(e=>(0,t.jsx)("option",{value:e._id,children:e.name}))]})}),(0,t.jsx)("div",{className:"form-group required",children:(0,t.jsx)("textarea",{name:"description",onChange:e=>j(e),placeholder:"Descripci\xf3n de la sub-categor\xeda",defaultValue:m&&m.description})}),(0,t.jsxs)("div",{className:"form-group required",style:{background:"url(".concat(r,") center/cover no-repeat")},children:[(0,t.jsx)("label",{className:"image-picker",htmlFor:"image",children:"Seleccionar im\xe1gen principal"}),(0,t.jsx)("input",{onChange:r=>{a({...e,[r.target.name]:r.target.files[0],fakeImage:URL.createObjectURL(r.target.files[0])}),u(URL.createObjectURL(r.target.files[0]))},type:"file",name:"image",id:"image"})]}),"error"===h.status&&(0,t.jsx)("p",{className:"blocks_design_error",children:h.message}),"success"===h.status&&(0,t.jsx)("p",{className:"blocks_design_success",children:h.message}),(0,t.jsx)("button",{type:"submit",onClick:e=>b(e),children:d})]})})};a.default=u},2577:function(e,a){"use strict";a.Z={FUKU_WHATSAPP:"https://wa.me/543492287151?text=",API_URL:"https://fukushop.com.ar/api",FRONTEND_URL:"https://fukushop.com.ar"}},6557:function(e,a,r){"use strict";var t=r(5893);r(7294);var s=r(6784),n=r.n(s);let c=()=>(0,t.jsx)("main",{id:n().error_page,children:(0,t.jsxs)("div",{id:n().error,children:[(0,t.jsx)("div",{id:n().box}),(0,t.jsx)("h3",{children:"ERROR 500"}),(0,t.jsx)("p",{children:"Ha ocurrido un error en el servidor :("}),(0,t.jsx)("p",{children:"Recomendamos volver a intentar"})]})});a.Z=c},616:function(e,a,r){"use strict";var t=r(5893);r(7294);var s=r(215);let n=()=>(0,t.jsx)("main",{className:"loading_container",children:(0,t.jsx)(s.Z,{size:70,color:"white"})});a.Z=n},6784:function(e){e.exports={error:"ErrorPage_error__P7PmK",box:"ErrorPage_box__ZJdmt",dance:"ErrorPage_dance__z_GDy",blink:"ErrorPage_blink__laXSX",shiftright:"ErrorPage_shiftright__G2njZ",shiftleft:"ErrorPage_shiftleft__Efc2h"}}},function(e){e.O(0,[670,774,888,179],function(){return e(e.s=3268)}),_N_E=e.O()}]);