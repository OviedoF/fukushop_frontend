(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{5583:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/create/subtype",function(){return r(5710)}])},5710:function(e,a,r){"use strict";r.r(a);var t=r(5893),s=r(7294),n=r(8767),i=r(2577),o=r(616),c=r(6557),l=r(8433);let u=()=>{let[e,a]=(0,s.useState)({}),[r,u]=(0,s.useState)(null),[d,p]=(0,s.useState)("Crear sub-tipo"),[m,g]=(0,s.useState)(null),[h,_]=(0,s.useState)({status:"idle"}),{data:f,status:x}=(0,n.useQuery)("types",async()=>{let e=await fetch("".concat(i.Z.API_URL,"/types"));return e.json()}),j=r=>{a({...e,[r.target.name]:r.target.value})},b=a=>{a.preventDefault();let r=new FormData;r.append("name",e.name),r.append("category",e.category),r.append("description",e.description);for(let a=0;a<e.images.length;a++)r.append("images",e.images[a]);l.Z.post("".concat(i.Z.API_URL,"/subTypes"),r,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{_({status:"success",message:"Sub-tipo de prenda creada .\uD83D\uDC4C"}),p("Sub-tipo creado")}).catch(e=>{_({status:"error",message:e.response.data.message})})};return"loading"===h.status||"loading"===x?(0,t.jsx)(o.Z,{}):"error"===x?(0,t.jsx)(c.Z,{}):(0,t.jsx)("main",{children:(0,t.jsxs)("form",{action:"",className:"form_container first_design",children:[(0,t.jsx)("div",{className:"form-group required",children:(0,t.jsx)("input",{onChange:e=>j(e),type:"text",name:"name",defaultValue:m&&m.name,placeholder:"Nombre de la sub-tipo"})}),(0,t.jsx)("div",{className:"form-group required",children:(0,t.jsxs)("select",{onChange:e=>j(e),name:"category",placeholder:"Seleccione tipo a la que pertenece",defaultValue:m&&m.category,children:[m&&m.category?(0,t.jsx)("option",{value:m.category._id,children:m.category.name}):(0,t.jsx)("option",{value:void 0,children:"Selecciona una tipo"}),f.map(e=>(0,t.jsx)("option",{value:e._id,children:e.name}))]})}),(0,t.jsx)("div",{className:"form-group required",children:(0,t.jsx)("textarea",{name:"description",onChange:e=>j(e),placeholder:"Descripci\xf3n de la sub-tipo",defaultValue:m&&m.description})}),(0,t.jsxs)("div",{className:"form-group required",style:{background:"url(".concat(r,") center/cover no-repeat")},children:[(0,t.jsx)("label",{className:"image-picker",htmlFor:"images",children:"Seleccionar im\xe1gen principal"}),(0,t.jsx)("input",{onChange:r=>{a({...e,[r.target.name]:r.target.files,fakeImage:URL.createObjectURL(r.target.files[0])}),u(URL.createObjectURL(r.target.files[0]))},type:"file",name:"images",id:"images",multiple:!0})]}),"error"===h.status&&(0,t.jsx)("p",{className:"blocks_design_error",children:h.message}),"success"===h.status&&(0,t.jsx)("p",{className:"blocks_design_success",children:h.message}),(0,t.jsx)("button",{type:"submit",onClick:e=>b(e),children:d})]})})};a.default=u},2577:function(e,a){"use strict";a.Z={FUKU_WHATSAPP:"https://wa.me/543492287151?text=",API_URL:"https://fukushop.com.ar/api",FRONTEND_URL:"https://fukushop.com.ar"}},6557:function(e,a,r){"use strict";var t=r(5893);r(7294);var s=r(6784),n=r.n(s);let i=()=>(0,t.jsx)("main",{id:n().error_page,children:(0,t.jsxs)("div",{id:n().error,children:[(0,t.jsx)("div",{id:n().box}),(0,t.jsx)("h3",{children:"ERROR 500"}),(0,t.jsx)("p",{children:"Ha ocurrido un error en el servidor :("}),(0,t.jsx)("p",{children:"Recomendamos volver a intentar"})]})});a.Z=i},616:function(e,a,r){"use strict";var t=r(5893);r(7294);var s=r(215);let n=()=>(0,t.jsx)("main",{className:"loading_container",children:(0,t.jsx)(s.Z,{size:70,color:"white"})});a.Z=n},6784:function(e){e.exports={error:"ErrorPage_error__P7PmK",box:"ErrorPage_box__ZJdmt",dance:"ErrorPage_dance__z_GDy",blink:"ErrorPage_blink__laXSX",shiftright:"ErrorPage_shiftright__G2njZ",shiftleft:"ErrorPage_shiftleft__Efc2h"}}},function(e){e.O(0,[670,774,888,179],function(){return e(e.s=5583)}),_N_E=e.O()}]);