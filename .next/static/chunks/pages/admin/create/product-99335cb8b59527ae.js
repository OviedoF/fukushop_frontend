(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{8459:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/create/product",function(){return s(1605)}])},1605:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return k}});var r=s(5893),l=s(7294),c=s(8433),i=s(2577),n=s(6720),t=s(6261);let o=(0,l.createContext)(),d={colors:[]};function p(e){let{children:a,setCreateStatus:s,categories:p,subCategories:m,types:x,sizes:h,colors:j}=e,[u,f]=(0,l.useState)(d),[_,g]=(0,l.useState)([]),[N,b]=(0,l.useState)({}),{enqueueSnackbar:y}=(0,n.Ds)(),v=e=>{f({...u,[e.target.name]:e.target.value})},k=()=>f(d),C=e=>{let a=j.find(a=>a._id===e.color),s=h.find(a=>a._id===e.size);return{...e,color:a,size:s}},E=e=>{e.preventDefault(),s({status:"loading",message:"Creando producto..."});let a=new FormData;a.append("body",JSON.stringify(u));let r=Object.keys(N);r.forEach(e=>{a.append(e,N[e].image),N[e].gallery.forEach(s=>{a.append(e,s)})}),c.Z.post("".concat(i.Z.API_URL,"/products"),a).then(e=>{y("Producto creado correctamente",{variant:"success"}),t.NY.scrollToTop(),s({status:"success",message:"Producto creado correctamente"})}).catch(e=>{y("Error al crear el producto",{variant:"error"})})};return(0,r.jsx)(o.Provider,{value:{form:u,setForm:f,handleInputChange:v,resetForm:k,handleSend:E,categories:p,subCategories:m,types:x,sizes:h,colors:j,variants:_,setVariants:g,populateVariant:C,images:N,setImages:b},children:a})}let m=e=>{let{setColorsSelected:a,colorsSelected:s}=e,{colors:c,setForm:i,form:n}=(0,l.useContext)(o);(0,l.useEffect)(()=>{i({...n,colors:s,_id:null})},[s]);let t=e=>s.some(a=>a._id===e._id),d=e=>{t(e)?a(s.filter(a=>a._id!==e._id)):a([...s,{...e,color:e._id}])};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"form_group multiple_picker required",children:[(0,r.jsx)("label",{htmlFor:"sizes",children:"Colores"}),c.map((e,a)=>(0,r.jsx)("div",{onClick:()=>d(e),className:"multiple_picker_item ".concat(t(e)&&"active"),children:(0,r.jsx)("p",{children:e.name})},"".concat(e._id,"-").concat(a)))]})})};var x=s(1857),h=s.n(x);function j(e){let{colorsSelected:a,setColorsSelected:s}=e,{images:c,setImages:i}=(0,l.useContext)(o),n=(e,a,s)=>{if("image"===s)return i({...c,[a]:{...c[a],[s]:e.target.files[0]}});i({...c,[a]:{...c[a],[s]:Object.values(e.target.files)}})},t=e=>{s(a.map(a=>a._id===e.target.id?{...a,stock:parseInt(e.target.value)}:a))};return(0,r.jsx)(r.Fragment,{children:a.map((e,a)=>(0,r.jsxs)("div",{style:{width:"80%",marginBottom:100},className:"jsx-518a96434f6ea422 variant_color_picker",children:[(0,r.jsxs)("h3",{className:"jsx-518a96434f6ea422",children:["Im\xe1genes para el color ",e.name]}),(0,r.jsxs)("div",{style:{display:"flex",height:300},className:"jsx-518a96434f6ea422",children:[(0,r.jsxs)("div",{className:"jsx-518a96434f6ea422 form_group required",children:[(0,r.jsxs)("label",{htmlFor:e.imageKey,style:{display:"flex",flexDirection:"column"},className:"jsx-518a96434f6ea422",children:["Elija la im\xe1gen principal del color ",e.name,(0,r.jsx)("br",{className:"jsx-518a96434f6ea422"}),(0,r.jsx)("br",{className:"jsx-518a96434f6ea422"}),(0,r.jsx)("span",{style:{color:"var(--color-success)"},className:"jsx-518a96434f6ea422",children:c[e.imageKey]&&c[e.imageKey].image&&"Im\xe1gen seleccionada"})]}),(0,r.jsx)("input",{onChange:a=>n(a,e.imageKey,"image"),type:"file",name:e.imageKey,id:e.imageKey,className:"jsx-518a96434f6ea422"})]}),(0,r.jsxs)("div",{className:"jsx-518a96434f6ea422 form_group required",children:[(0,r.jsxs)("label",{htmlFor:e._id,style:{display:"flex",flexDirection:"column"},className:"jsx-518a96434f6ea422",children:["Imagenes secundarias",(0,r.jsx)("br",{className:"jsx-518a96434f6ea422"}),(0,r.jsx)("br",{className:"jsx-518a96434f6ea422"}),(0,r.jsx)("span",{style:{color:"var(--color-success)"},className:"jsx-518a96434f6ea422",children:c[e.imageKey]&&c[e.imageKey].gallery&&"".concat(c[e.imageKey].gallery.length," im\xe1genes seleccionadas")})]}),(0,r.jsx)("input",{onChange:a=>n(a,e.imageKey,"gallery"),type:"file",name:e._id,id:e._id,multiple:!0,className:"jsx-518a96434f6ea422"})]})]}),(0,r.jsxs)("h3",{className:"jsx-518a96434f6ea422",children:["Stock del color ",e.name]}),(0,r.jsx)("input",{type:"number",name:e._id,id:e._id,placeholder:"Escriba aqu\xed",style:{width:"98%",marginTop:"auto",marginBottom:20,padding:10,backgroundColor:"transparent",border:"none",color:"#fff",borderBottom:"1px solid var(--color-alternative)"},onChange:e=>t(e),className:"jsx-518a96434f6ea422"}),(0,r.jsx)(h(),{id:"518a96434f6ea422",children:".variant_color_picker.jsx-518a96434f6ea422{border:1px solid var(--color-alternative);padding:20px;height:500px;margin-bottom:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.variant_color_picker.jsx-518a96434f6ea422 .form_group.jsx-518a96434f6ea422{width:40%;margin:0px!important;height:100%}.variant_color_picker.jsx-518a96434f6ea422 .form_group.stock.jsx-518a96434f6ea422{min-width:100%;height:50%}.variant_color_picker.jsx-518a96434f6ea422 .form_group.jsx-518a96434f6ea422 input.jsx-518a96434f6ea422{display:none}.variant_color_picker.jsx-518a96434f6ea422 .form_group.stock.jsx-518a96434f6ea422 input.jsx-518a96434f6ea422{display:block}.variant_color_picker.jsx-518a96434f6ea422 .form_group.jsx-518a96434f6ea422 label.jsx-518a96434f6ea422{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:90%;height:100%;background-color:#00000080;color:#fff;padding:10px;text-align:center;cursor:pointer}.variant_color_picker.jsx-518a96434f6ea422 .form_group.stock.jsx-518a96434f6ea422 label.jsx-518a96434f6ea422{display:block;height:auto;background-color:transparent}"})]},"".concat(e._id,"-").concat(a)))})}var u=s(215);let f=e=>{let{createStatus:a}=e,[s,c]=(0,l.useState)([]),[i,n]=(0,l.useState)([]),[t,d]=(0,l.useState)([]),{form:p,setForm:x,handleInputChange:h,handleSend:f,categories:_,subCategories:g,types:N,sizes:b,variants:y,setVariants:v,populateVariant:k}=(0,l.useContext)(o);return(0,l.useEffect)(()=>{if(p.category){let e=g.filter(e=>e.category===p.category);n(e)}},[p.category]),(0,l.useEffect)(()=>{x({...p,colors:[]});let e=s.map(e=>({color:e._id,imageKey:e.imageKey,name:e.name,principalImage:"",stock:e.stock||0,images:[]}));x({...p,colors:e})},[s]),(0,l.useEffect)(()=>{d(y.map(e=>k(e)))},[y]),(0,r.jsxs)("form",{id:"small_form_style",children:[(0,r.jsxs)("div",{className:"form_group required",children:[(0,r.jsx)("label",{htmlFor:"name",children:"Nombre del producto"}),(0,r.jsx)("input",{type:"text",name:"name",id:"name",onChange:e=>h(e),placeholder:"Escriba aqu\xed"})]}),(0,r.jsxs)("div",{className:"form_group required",children:[(0,r.jsx)("label",{htmlFor:"description",children:"Descripci\xf3n"}),(0,r.jsx)("textarea",{name:"description",id:"description",onChange:e=>h(e),cols:"30",rows:"10",placeholder:"Escriba aqu\xed"})]}),(0,r.jsxs)("div",{className:"form_group required",children:[(0,r.jsx)("label",{htmlFor:"price",children:"Precio"}),(0,r.jsx)("input",{type:"number",name:"price",onChange:e=>h(e),id:"price",placeholder:"Escriba aqu\xed"})]}),(0,r.jsxs)("div",{className:"form_group",children:[(0,r.jsx)("label",{htmlFor:"discount",children:"Descuento (porcentaje)"}),(0,r.jsx)("input",{type:"number",name:"discount",onChange:e=>h(e),id:"discount",placeholder:"Escriba aqu\xed"})]}),(0,r.jsxs)("div",{className:"form_group",children:[(0,r.jsx)("label",{htmlFor:"priceWithOffer",children:"Precio con descuento"}),(0,r.jsx)("input",{type:"number",name:"priceWithOffer",onChange:e=>h(e),id:"priceWithOffer",placeholder:"Escriba aqu\xed"})]}),(0,r.jsxs)("div",{className:"form_group form_picker required",children:[(0,r.jsx)("label",{htmlFor:"clothe_type",children:"Tipo de prenda"}),(0,r.jsxs)("select",{name:"clothe_type",id:"clothe_type",onChange:e=>h(e),children:[(0,r.jsx)("option",{value:null,children:"Selecciona un tipo de prenda"}),N.map(e=>(0,r.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,r.jsxs)("div",{className:"form_group form_picker required",children:[(0,r.jsx)("label",{htmlFor:"category",children:"Categor\xeda"}),(0,r.jsxs)("select",{name:"category",id:"category",onChange:e=>h(e),children:[(0,r.jsx)("option",{value:null,children:"Selecciona una categor\xeda"}),_.map(e=>(0,r.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,r.jsxs)("div",{className:"form_group form_picker required",children:[(0,r.jsx)("label",{htmlFor:"subcategory",children:"Subcategor\xeda"}),(0,r.jsxs)("select",{name:"subCategory",id:"subCategory",onChange:e=>h(e),children:[(0,r.jsx)("option",{value:null,children:"Selecciona una subcategor\xeda"}),i.map(e=>(0,r.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,r.jsx)(m,{setColorsSelected:c,colorsSelected:s}),(0,r.jsx)(j,{colorsSelected:s,setColorsSelected:c}),"success"===a.status&&(0,r.jsx)("p",{animation:"appear",className:"card_text_1 success",animate:{transform:"scale(1)"},children:a.message}),"loading"===a.status?(0,r.jsx)(u.Z,{color:"#FFF",size:50}):(0,r.jsx)("button",{type:"submit",onClick:e=>f(e),children:"Crear producto"}),"error"===a.status&&(0,r.jsx)("p",{animation:"appear",className:"card_text_1 error",animate:{transform:"scale(1)"},children:a.message})]})};var _=s(8767),g=s(616),N=s(6557),b=s(7138),y=s(9473);let v=()=>{let{isLoading:e,error:a,data:s}=(0,_.useQuery)("category",()=>c.Z.get("".concat(i.Z.API_URL,"/category"))),{isLoading:n,error:t,data:o}=(0,_.useQuery)("subcategory",()=>c.Z.get("".concat(i.Z.API_URL,"/subcategories"))),{isLoading:d,error:m,data:x}=(0,_.useQuery)("sizes",()=>c.Z.get("".concat(i.Z.API_URL,"/sizes"))),{isLoading:h,error:j,data:u}=(0,_.useQuery)("colors",()=>c.Z.get("".concat(i.Z.API_URL,"/productColor"))),{isLoading:v,error:k,data:C}=(0,_.useQuery)("types",()=>c.Z.get("".concat(i.Z.API_URL,"/types"))),[E,w]=(0,l.useState)({status:"idle"}),F=(0,y.v9)(e=>e.auth);return F?e||n||d||h||v?(0,r.jsx)(g.Z,{}):a||t||m||j||k?(0,r.jsx)(N.Z,{}):s&&o&&C?(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{children:"Crear producto"}),(0,r.jsx)(p,{setCreateStatus:w,types:C.data,categories:s.data,colors:u.data,sizes:x.data,subCategories:o.data,children:(0,r.jsx)(f,{createStatus:E})})]}):void 0:(0,r.jsx)(b.Z,{})};var k=v},2577:function(e,a){"use strict";a.Z={FUKU_WHATSAPP:"https://wa.me/543492287151?text=",API_URL:"http://localhost:4000/api",FRONTEND_URL:"http://localhost:3000"}},6557:function(e,a,s){"use strict";var r=s(5893);s(7294);var l=s(6784),c=s.n(l);let i=()=>(0,r.jsx)("main",{id:c().error_page,children:(0,r.jsxs)("div",{id:c().error,children:[(0,r.jsx)("div",{id:c().box}),(0,r.jsx)("h3",{children:"ERROR 500"}),(0,r.jsx)("p",{children:"Ha ocurrido un error en el servidor :("}),(0,r.jsx)("p",{children:"Recomendamos volver a intentar"})]})});a.Z=i},616:function(e,a,s){"use strict";var r=s(5893);s(7294);var l=s(215);let c=()=>(0,r.jsx)("main",{className:"loading_container",children:(0,r.jsx)(l.Z,{size:70,color:"white"})});a.Z=c},7138:function(e,a,s){"use strict";var r=s(5893),l=s(1163);s(7294);var c=s(233),i=s(4296),n=s.n(i);let t=e=>{let{title:a="No se ha encontrado esta p\xe1gina! :(",subtitle:s="Tranquilo, te redirigiremos al inicio! \uD83D\uDE09"}=e,i=(0,l.useRouter)();return(0,r.jsxs)("main",{id:n().not_found_item,children:[(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"4"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsx)("span",{className:n().particle,children:"0"}),(0,r.jsxs)("article",{className:n().content,children:[(0,r.jsx)("p",{children:a}),(0,r.jsx)("p",{children:s}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>i.push(c.Z.home),children:"Volver al inicio."})})]})]})};a.Z=t},6784:function(e){e.exports={error:"ErrorPage_error__P7PmK",box:"ErrorPage_box__ZJdmt",dance:"ErrorPage_dance__z_GDy",blink:"ErrorPage_blink__laXSX",shiftright:"ErrorPage_shiftright__G2njZ",shiftleft:"ErrorPage_shiftleft__Efc2h"}},4296:function(e){e.exports={not_found_item:"NotFoundItem_not_found_item__hPUAe",content:"NotFoundItem_content__x3sm3",apparition:"NotFoundItem_apparition__da2zz",particle:"NotFoundItem_particle__N4_0A",floatReverse2:"NotFoundItem_floatReverse2___1HtP",float:"NotFoundItem_float__jlglA",floatReverse:"NotFoundItem_floatReverse__MBGw0",float2:"NotFoundItem_float2__fAn9G"}}},function(e){e.O(0,[433,857,114,774,888,179],function(){return e(e.s=8459)}),_N_E=e.O()}]);