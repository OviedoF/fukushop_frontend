(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{2065:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/list/categories",function(){return t(9027)}])},9027:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSG:function(){return d},default:function(){return p}});var a=t(5893),n=t(9417),l=t(8433),i=t(9008),o=t.n(i),r=t(7294),c=t(3709),m=t(2577),u=t(7741),d=!0;function p(e){let{categories:s}=e,[t,i]=(0,r.useState)(!1),[d,p]=(0,r.useState)({}),[f,_]=(0,r.useState)({status:"idle",message:""}),h=e=>{p(e),i(!0)},x=()=>{_({status:"loading",message:"Guardando cambios..."});let e=new FormData;e.append("name",d.name),e.append("description",d.description),d.image&&e.append("images",d.image),l.Z.put("".concat(m.Z.API_URL,"/category/").concat(d._id),e).then(e=>_({status:"success",message:"\xa1Cambios guardados!"})).catch(e=>_({status:"error",message:"Error al guardar cambios."}))},g=e=>console.log(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("title",{children:"Modificaci\xf3n | Categor\xedas"})}),(0,a.jsxs)("main",{children:[(0,a.jsx)("h1",{children:"Lista de categorias"}),t&&(0,a.jsx)(u.Z,{inputs:[{name:"name",type:"text",label:"Nombre"},{name:"description",type:"textarea",label:"Descripci\xf3n"},{name:"image",type:"file",label:"Im\xe1gen"}],title:"Editar categoria",editing:!0,item:t,form:d,setForm:p,setter:t,setSetter:i,submitText:"Editar",defaultValues:t,onSubmit:()=>x(),status:f}),(0,a.jsx)(c.Z,{items:s,actionsList:[{icon:n.Xcf,color:"var(--color-success)",handler:h},{icon:n.$aW,color:"var(--color-danger)",handler:g}],listItemTitle:"name"})]})]})}},3709:function(e,s,t){"use strict";t.d(s,{Z:function(){return m}});var a=t(5893),n=t(7294),l=t(7015),i=t.n(l),o=t(9417),r=t(9603);function c(e){let{item:s,subList:t,actionsList:l,actionsSubList:c,listItemTitle:m,subItemTitle:u}=e,[d,p]=(0,n.useState)(!1),f=u&&u.split("."),_=e=>1===f.length?e[f[0]]:_(e[f[0]],f.slice(1));return(0,a.jsxs)("li",{className:i().list_item,onClick:()=>{t&&p(!d)},style:{color:d?"#ffffff":"#ffffff90",marginBottom:d?"".concat(70*s.variants.length,"px"):"0"},children:[s[m],(0,a.jsxs)("div",{className:i().icons_list,children:[l&&l.map((e,t)=>(0,a.jsx)(r.G,{icon:e.icon,color:e.color,onClick:()=>e.handler(s)},t)),t&&(0,a.jsx)(r.G,{icon:o.ptq,style:{transform:d?"rotate(180deg)":"rotate(0deg)"}})]}),t&&(0,a.jsx)("ul",{className:[i().sublist,i().sublist_active].join(" "),style:{clipPath:d?"polygon(0 0, 100% 0, 100% 100%, 0 100%)":"polygon(0 0, 100% 0, 100% 0, 0 0)"},children:s[t].map((e,s)=>(0,a.jsxs)("li",{children:["Color: ",e.color.name," - Talle: ",e.size.name,(0,a.jsx)("div",{className:i().icons_list,children:c&&c.map((s,t)=>(0,a.jsx)(r.G,{icon:s.icon,color:s.color,onClick:()=>s.handler(e)},t))})]},s))})]},s._id)}function m(e){let{items:s,subList:t,actionsList:n,actionsSubList:l,listItemTitle:o,subItemTitle:r}=e;return(0,a.jsx)("ul",{className:i().list,children:s.map((e,s)=>(0,a.jsx)(c,{item:e,subList:t,actionsList:n,actionsSubList:l,listItemTitle:o,subItemTitle:r},s))})}},2577:function(e,s){"use strict";s.Z={FUKU_WHATSAPP:"https://wa.me/543492287151?text=",API_URL:"https://fukushop.com.ar/api",FRONTEND_URL:"https://fukushop.com.ar"}},7741:function(e,s,t){"use strict";t.d(s,{Z:function(){return m}});var a=t(5893),n=t(9417),l=t(9603),i=t(7294),o=t(215),r=t(8431),c=t.n(r);function m(e){let{inputs:s,onSubmit:t,title:r,submitText:m="submitText prop",form:u,setForm:d,editing:p,setter:f,setSetter:_,defaultValues:h,status:x}=e,[g,j]=(0,i.useState)({}),b=e=>{let{name:s,value:t}=e.target;d({...u,[s]:t})},N=e=>e.target.multiple?(j({...g,[e.target.name]:"".concat(e.target.files.length," files selected")}),d({...u,[e.target.name]:e.target.files})):(j({...g,[e.target.name]:"".concat(e.target.files[0].name," selected!")}),d({...u,[e.target.name]:e.target.files[0]}));return x&&"loading"===x.status?(0,a.jsxs)("div",{className:c().modal_form,animation:"appear",children:[(0,a.jsx)(l.G,{icon:n.g82,className:c().close,onClick:()=>_(!f)}),(0,a.jsx)("form",{className:c().form,onSubmit:e=>e.preventDefault(),children:(0,a.jsx)(o.Z,{color:"white",size:50})})]}):(0,a.jsxs)("div",{className:c().modal_form,animation:"appear",children:[(0,a.jsx)(l.G,{icon:n.g82,className:c().close,onClick:()=>_(!f)}),(0,a.jsxs)("form",{className:c().form,onSubmit:e=>e.preventDefault(),children:[(0,a.jsx)("h2",{children:r}),s.map((e,s)=>"select"===e.type?(0,a.jsxs)("div",{className:c().form_group,children:[(0,a.jsx)("label",{htmlFor:e.name,children:e.label}),(0,a.jsx)("select",{name:e.name,id:e.name,value:u[e.name],onChange:b,children:e.options.map((e,s)=>(0,a.jsx)("option",{value:e.value,children:e.label},s))})]},s):"color"===e.type?(0,a.jsxs)("div",{className:c().form_group,children:[(0,a.jsx)("label",{htmlFor:e.name,children:e.label}),(0,a.jsx)("input",{type:e.type,name:e.name,id:e.name,defaultValue:p?u[e.name]:h[e.name],onChange:e=>b(e)})]},s):"textarea"===e.type?(0,a.jsxs)("div",{className:c().form_group,children:[(0,a.jsx)("label",{htmlFor:e.name,children:e.label}),(0,a.jsx)("textarea",{name:e.name,id:e.name,value:p?u[e.name]:h[e.name],onChange:e=>b(e)})]},s):"file"===e.type?(0,a.jsxs)("div",{className:c().form_group,children:[(0,a.jsx)("label",{htmlFor:e.name,children:e.label}),(0,a.jsxs)("label",{htmlFor:e.name,className:c().file_picker,children:[(0,a.jsx)("span",{children:"Choose a file"}),e.multiple&&g[e.name]&&(0,a.jsx)("span",{style:{fontSize:12,color:"var(--color-success)"},children:g[e.name]}),!e.multiple&&g[e.name]&&(0,a.jsx)("span",{style:{fontSize:12,color:"var(--color-success)"},children:g[e.name]})]}),(0,a.jsx)("input",{type:e.type,name:e.name,id:e.name,onChange:e=>N(e),multiple:!!e.multiple})]},s):(0,a.jsxs)("div",{className:c().form_group,children:[(0,a.jsx)("label",{htmlFor:e.name,children:e.label}),(0,a.jsx)("input",{type:e.type,name:e.name,id:e.name,value:p?u[e.name]:h[e.name],onChange:e=>b(e)})]},s)),x&&"error"===x.status&&(0,a.jsx)("p",{animation:"appear",className:"error",children:x.message}),x&&"success"===x.status&&(0,a.jsx)("p",{animation:"appear",className:"success",children:x.message}),(0,a.jsx)("button",{type:"submit",onClick:t,children:m})]})]})}},7015:function(e){e.exports={list:"ProductsList_list__QVusC",list_item:"ProductsList_list_item__NSwq3",icons_list:"ProductsList_icons_list__kgT5P",sublist:"ProductsList_sublist__ZKitQ"}},8431:function(e){e.exports={modal_form:"ModalForm_modal_form__aMZeF",close:"ModalForm_close__p3eAx",form:"ModalForm_form__5M5zG",form_group:"ModalForm_form_group__UmTt4",file_picker:"ModalForm_file_picker__FBDUO"}},9008:function(e,s,t){e.exports=t(3121)}},function(e){e.O(0,[670,774,888,179],function(){return e(e.s=2065)}),_N_E=e.O()}]);